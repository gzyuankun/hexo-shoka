<!-- build time:Tue Jun 06 2023 19:23:36 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Hide your thoughts" href="http://blog.itshare.work/rss.xml"><link rel="alternate" type="application/atom+xml" title="Hide your thoughts" href="http://blog.itshare.work/atom.xml"><link rel="alternate" type="application/json" title="Hide your thoughts" href="http://blog.itshare.work/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="MySQL基础"><link rel="canonical" href="http://blog.itshare.work/MySQL/MySQL/"><title>MySQL数据库基础和安装使用 - MySQL | Cookie = Hide your thoughts</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MySQL数据库基础和安装使用</h1><div class="meta"><span class="item" title="创建时间：2022-09-28 22:42:41"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-09-28T22:42:41+08:00">2022-09-28</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>14k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>13 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Cookie</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/26.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/30.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/22.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/21.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/13.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/2.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/MySQL/" itemprop="item" rel="index" title="分类于 MySQL"><span itemprop="name">MySQL</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://blog.itshare.work/MySQL/MySQL/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan kun"><meta itemprop="description" content=", 解决各种服务器、网络、应用等技术问题，致力于保障系统稳定、高效运行"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hide your thoughts"></span><div class="body md" itemprop="articleBody"><p>MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL 是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一<br><span id="more"></span></p><h1 id="mysql的特性"><a class="anchor" href="#mysql的特性">#</a> MySQL 的特性</h1><p><img data-src="../image.assets/1668695639684.png" alt="1668695639684"></p><h1 id="mysql安装"><a class="anchor" href="#mysql安装">#</a> MySQL 安装</h1><h2 id="安装方式介绍"><a class="anchor" href="#安装方式介绍">#</a> 安装方式介绍</h2><p>程序包管理器管理的程序包<br>源代码编译安装<br>二进制格式的程序包：展开至特定路径，并经过简单配置后即可使用</p><h3 id="rpm安装"><a class="anchor" href="#rpm安装">#</a> rpm 安装</h3><p>CentOS 安装光盘<br>项目官方：<span class="exturl" data-url="aHR0cHM6Ly9kb3dubG9hZHMubWFyaWFkYi5vcmcvbWFyaWFkYi9yZXBvc2l0b3JpZXMv">https://downloads.mariadb.org/mariadb/repositories/</span><br>国内镜像：<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL21hcmlhZGIveXVtLw==">https://mirrors.tuna.tsinghua.edu.cn/mariadb/yum/</span><br><span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL215c3FsL3l1bS8=">https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/</span></p><p><strong>范例 1：CentOS 7 利用 yum 源安装 MySQL8.0</strong></p><p><span class="exturl" data-url="aHR0cHM6Ly9kZXYubXlzcWwuY29tL2Rvd25sb2Fkcy9yZXBvL3l1bS8=">MySQL 官网</span></p><ul><li>官网下载 rpm 包</li></ul><p><img data-src="../image.assets/1664415600826.png" alt="1664415600826"></p><ul><li>利用 rz 命令将 rpm 包上传到主机</li></ul><p><strong>扩展：</strong></p><pre><code class="language-TEXT">rz命令yum安装:yum install lrzsz
</code></pre><p><img data-src="../image.assets/1664415914209.png" alt="1664415914209"></p><ul><li>安装 rpm 包</li></ul><pre><code class="language-TEXT">root@centos7[~]-&gt;yum install mysql80-community-release-el7-7.noarch.rpm
</code></pre><ul><li>安装 MySQL</li></ul><pre><code class="language-TEXT">root@centos7[~]-&gt;yum install -y mysql-community-server
</code></pre><p><strong>范例 2：CentOS 7 利用 yum 源安装 MySQL5.7</strong></p><pre><code class="language-TEXT">[root@centos7 ~]#tee /etc/yum.repos.d/mysql.repo &lt;&lt;EOF
[mysql]
name=mysql5.7
baseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-5.7-community-el7-
x86_64/
gpgcheck=0
EOF
[root@centos7 ~]#yum -y install mysql-community-server
[root@centos7 ~]#systemctl enable --now mysqld
</code></pre><h3 id="二进制安装"><a class="anchor" href="#二进制安装">#</a> 二进制安装</h3><p><strong>环境</strong></p><p>系统：rocky8.5</p><p>MySQL 版本：mysql-8.0.28-linux-glibc2.12-x86_64.tar.xz</p><p><strong>步骤</strong></p><ul><li>安装相关包</li></ul><pre><code class="language-TEXT">yum -y install libaio numactl-libs
</code></pre><ul><li>准备用户</li></ul><pre><code class="language-TEXT">groupadd mysql
useradd -r -g mysql -s /bin/false mysql
</code></pre><ul><li>下载二进制程序包</li></ul><pre><code class="language-TEXT"># -P下载到指定目录
wget https://cdn.mysql.com/archives/mysql-8.0/mysql-8.0.28-linux-glibc2.12-x86_64.tar.xz -P /usr/local/  

 ln -s mysql-8.0.28-linux-glibc2.12-x86_64 mysql
 
 chown -R root.root /usr/local/mysql/
</code></pre><ul><li>准备环境变量</li></ul><pre><code class="language-TEXT">echo 'PATH=/usr/local/mysql/bin:$PATH' &gt; /etc/profile.d/mysql.sh
. /etc/profile.d/mysql.sh
</code></pre><ul><li>准备配置文件</li></ul><pre><code class="language-TEXT">vim /etc/my.cnf
[mysqld]
datadir=/data/mysql
skip_name_resolve=1
socket=/data/mysql/mysql.sock
log-error=/data/mysql/mysql.log
pid-file=/data/mysql/mysql.pid
[client]
socket=/data/mysql/mysql.sock
</code></pre><ul><li>初始化数据库文件并提取 root 密码</li></ul><pre><code class="language-TEXT">mkdir -pv /data/mysql
grep password /data/mysql/mysql.log
</code></pre><p>生成随机密码</p><pre><code class="language-TEXT">mysqld --initialize --user=mysql --datadir=/data/mysql
</code></pre><p>生成空密码</p><pre><code class="language-TEXT">mysqld --initialize-insecure --user=mysql --datadir=/data/mysql
</code></pre><ul><li>准备服务脚本和启动</li></ul><pre><code class="language-TEXT">[root@rocky local]# cp /usr/local/mysql/support-files/mysql.server  /etc/init.d/mysqld

chkconfig --add mysqld
# 启动服务
service mysqld start
</code></pre><ul><li>修改口令</li></ul><pre><code class="language-TEXT"># 修改随机密码为指定密码
mysqladmin -uroot -p'9ATjCOB(jIef' password 123456

#修改前面生成的空密码为指定密码
mysqladmin -uroot password 123456
</code></pre><ul><li>测试登录</li></ul><pre><code class="language-TEXT">mysql -uroot -p'123456'
</code></pre><p>注意：登录 mysql 报如下信息</p><pre><code class="language-TEXT">mysql: error while loading shared libraries: libtinfo.so.5: cannot open shared object file: No such file or directory
</code></pre><p>解决方法：</p><pre><code class="language-TEXT">ln -s /usr/lib64/libtinfo.so.6.1 /usr/lib64/libtinfo.so.5
</code></pre><p>登录成功：</p><p><img data-src="../image.assets/1664459241867.png" alt="1664459241867"></p><h3 id="源码编译安装"><a class="anchor" href="#源码编译安装">#</a> 源码编译安装</h3><h1 id="mysql多实例"><a class="anchor" href="#mysql多实例">#</a> MySQL 多实例</h1><h1 id="sql语言"><a class="anchor" href="#sql语言">#</a> SQL 语言</h1><h2 id="sql语言的兴起与语法标准"><a class="anchor" href="#sql语言的兴起与语法标准">#</a> SQL 语言的兴起与语法标准</h2><h3 id="sql语句分类"><a class="anchor" href="#sql语句分类">#</a> SQL 语句分类</h3><ul><li>DDL: Data Defination Language 数据定义语言<br>CREATE，DROP，ALTER</li><li>DML: Data Manipulation Language 数据操纵语言<br>INSERT，DELETE，UPDATE<br>软件开发：CRUD</li><li>DQL：Data Query Language 数据查询语言<br>SELECT</li><li>DCL：Data Control Language 数据控制语言<br>GRANT，REVOKE</li><li>TCL：Transaction Control Language 事务控制语言<br>COMMIT，ROLLBACK，SAVEPOINT</li></ul><h3 id="字符集和排序"><a class="anchor" href="#字符集和排序">#</a> 字符集和排序</h3><ul><li>查看所有支持的字符集</li></ul><pre><code>show character set;
show charset;
</code></pre><ul><li>查看支持的所有排序</li></ul><pre><code>show collation;
#注意
utf8_general_ci不区分大小写
utf8_bin 区分大小写
</code></pre><ul><li>查看当前使用的排序规则</li></ul><pre><code>mysql&gt; show variables like 'collation%';
+----------------------+-------------------+
| Variable_name        | Value             |
+----------------------+-------------------+
| collation_connection | utf8_general_ci   |
| collation_database   | latin1_swedish_ci |
| collation_server     | latin1_swedish_ci |
+----------------------+-------------------+
3 rows in set (0.01 sec)
</code></pre><ul><li>设置服务器端默认字符集</li></ul><pre><code>vim /etc/my.cnf
#针对mysql客户端
[mysql]
default-character-set=utf8mb4
#针对所有MySQL客户端
[client]
default-character-set=utf8mb4
</code></pre><ul><li>查看当前字符集的使用情况</li></ul><pre><code>mysql&gt; show variables like 'character%';
+--------------------------+----------------------------------------------------------------+
| Variable_name            | Value                                                          |
+--------------------------+----------------------------------------------------------------+
| character_set_client     | utf8mb4                                                        |
| character_set_connection | utf8mb4                                                        |
| character_set_database   | latin1                                                         |
| character_set_filesystem | binary                                                         |
| character_set_results    | utf8mb4                                                        |
| character_set_server     | latin1                                                         |
| character_set_system     | utf8                                                           |
| character_sets_dir       | /usr/local/mysql-5.7.39-linux-glibc2.12-x86_64/share/charsets/ |
+--------------------------+----------------------------------------------------------------+
8 rows in set (0.00 sec)

mysql&gt; 
</code></pre><p><strong>面试题: VARCHAR (50) 能存放几个 UTF8 编码的汉字？</strong></p><pre><code>存放的汉字个数与版本相关。
mysql 4.0以下版本，varchar(50) 指的是 50 字节，如果存放 UTF8 格式编码的汉字时（每个汉字3字
节），只能存放16 个。
mysql 5.0以上版本，varchar(50) 指的是 50 字符，无论存放的是数字、字母还是 UTF8 编码的汉字，
都可以存放 50 个。
</code></pre><p>#　ＭySQL 用户管理</p><ul><li>相关数据库和表</li></ul><pre><code>元数据数据库：mysql
系统授权表：db, host, user,columns_priv, tables_priv, procs_priv, proxies_priv
</code></pre><ul><li>用户账号</li></ul><pre><code>'USERNAME'@'HOST'
@'HOST': 主机名： user1@'web1.magedu.org'
IP地址或Network
通配符： % _
示例：wang@'172.16.%.%'
user2@'192.168.1.%'
mage@'10.0.0.0/255.255.0.0'
</code></pre><ul><li>创建用户：create user</li></ul><pre><code>CREATE USER 'USERNAME'@'HOST' [IDENTIFIED BY 'password']；
#示例:
create user test@'10.0.0.0/255.255.255.0' identified by '123456';
create user test2@'10.0.0.%' identified by 123456
</code></pre><p>新建用户的默认权限：USAGE</p><ul><li>用户重命名：RENAME USER</li></ul><pre><code>RENAME USER old_user_name TO new_user_name;
</code></pre><ul><li>删除用户</li></ul><pre><code>DROP USER 'USERNAME'@'HOST'
</code></pre><p><strong>删除空用户</strong></p><pre><code>DROP USER ''@'localhost';
</code></pre><p><strong>修改密码</strong></p><ul><li>注意</li></ul><p>新版 mysql 中用户密码可以保存在 mysql.user 表的 authentication_string 字段中<br>如果 mysql.user 表的 authentication_string 和 password 字段都保存密码，authentication_string<br>优先生效</p><pre><code>#方法1,用户可以也可通过此方式修改自已的密码
SET PASSWORD FOR 'user'@'host' = PASSWORD('password'); #MySQL8.0 版本不支持此方法,
因为password函数被取消
set password for root@'localhost'='123456' ; #MySQL8.0版本支持此方法,此方式直接将密码
123456加密后存放在mysql.user表的authentication_string字段
#方法2
ALTER USER test@'%' IDENTIFIED BY 'centos'; #通用改密码方法, 用户可以也可通过此方式修
改自已的密码,MySQL8 版本修改密码
#方法3 此方式MySQL8.0不支持,因为password函数被取消
UPDATE mysql.user SET password=PASSWORD('password') WHERE clause;
#mariadb 10.3
update mysql.user set authentication_string=password('ubuntu') where
user='mage';
#此方法需要执行下面指令才能生效：
FLUSH PRIVILEGES;
</code></pre><p><strong>忘记管理员密码解决方法</strong></p><ol><li>启动 mysqld 进程时，为其使用如下选项：</li></ol><pre><code>--skip-grant-tables
--skip-networking
</code></pre><ol start="2"><li>使用 UPDATE 命令修改管理员密码</li><li>关闭 mysqld 进程，移除上述两个选项，重启 mysqld</li></ol><p>范例：Mariadb 和 MySQL5.6 版之前破解 root 密码</p><pre><code>[root@centos8 ~]#vim /etc/my.cnf
[mysqld]
skip-grant-tables
skip-networking
[root@centos8 ~]#systemctl restart mysqld|mariadb
[root@centos8 ~]#mysql
#方法1
#mariadb 旧版和MySQL5.6版之前
MariaDB [(none)]&gt; update mysql.user set password=password('ubuntu') where
user='root';
#mariadb 新版
MariaDB [(none)]&gt; update mysql.user set authentication_string=password('ubuntu')
where user='root';
#方法2
MariaDB [(none)]&gt; flush privileges;
MariaDB [(none)]&gt; alter user root@'localhost' identified by 'ubuntu';
[root@centos8 ~]#vim /etc/my.cnf
[mysqld]
#skip-grant-tables
#skip-networking

[root@centos8 ~]#systemctl restart mysqld|mariadb
[root@centos8 ~]#mysql -uroot -pubuntu
</code></pre><p>范例: MySQL5.7 和 8.0 破解 root 密码</p><pre><code>[root@centos8 ~]#vim /etc/my.cnf
[mysqld]
skip-grant-tables
skip-networking #MySQL8.0不需要
[root@centos8 ~]#systemctl restart mysqld
#方法1
mysql&gt; update mysql.user set authentication_string='' where user='root' and
host='localhost';
#方法2
mysql&gt; flush privileges;
#再执行下面任意一个命令
mysql&gt; alter user root@'localhost' identified by 'ubuntu';
mysql&gt; set password for root@'localhost'='ubuntu';
[root@centos8 ~]#vim /etc/my.cnf
[mysqld]
#skip-grant-tables
#skip-networking
[root@centos8 ~]#systemctl restart mysqld
[root@centos8 ~]#mysql -uroot -pubuntu
</code></pre><p>范例：删库跑路之清空 root 密码方法</p><pre><code>#此方法适用于包安装方式的MySQL或Mariadb
[root@centos8 ~]#systemctl stop mysqld
[root@centos8 ~]#rm -rf /var/lib/mysql/*
[root@centos8 ~]#systemctl start mysqld
</code></pre><h1 id="权限管理"><a class="anchor" href="#权限管理">#</a> 权限管理</h1><p><strong>权限类别：</strong></p><ul><li><p>管理类</p></li><li><p>程序类</p></li><li><p>数据库级别</p></li><li><p>表级别</p></li><li><p>字段级别</p></li></ul><p><strong>管理类：</strong></p><ul><li>CREATE USER</li><li>FILE</li><li>SUPER</li><li>SHOW DATABASES</li><li>RELOAD</li><li>SHUTDOWN</li><li>REPLICATION SLAVE</li><li>REPLICATION CLIENT</li><li>LOCK TABLES</li><li>PROCESS</li><li>CREATE TEMPORARY TABLES</li></ul><p><strong>程序类：针对 FUNCTION、PROCEDURE、TRIGGER</strong></p><ul><li>CREATE</li><li>ALTER</li><li>DROP</li><li>EXCUTE<br><strong>库和表级别：针对 DATABASE、TABLE</strong></li><li>ALTER</li><li>CREATE</li><li>CREATE VIEW</li><li>DROP INDEX</li><li>SHOW VIEW</li><li>WITH GRANT OPTION：能将自己获得的权限转赠给其他用户<br><strong>数据操作</strong></li><li>SELECT<br>-INSERT</li><li>DELETE</li><li>UPDATE<br><strong>字段级别</strong></li><li>SELECT(col1,col2,...)</li><li>UPDATE(col1,col2,...)</li><li>INSERT(col1,col2,...)<br><strong>所有权限</strong></li><li>ALL PRIVILEGES 或 ALL</li></ul><p><strong>授权</strong></p><ul><li>授权：GRANT</li></ul><pre><code>GRANT SELECT (col1), INSERT (col1,col2) ON mydb.mytbl TO 'someuser'@'somehost';
GRANT ALL ON wordpress.* TO wordpress@'10.0.0.%' ;
GRANT ALL PRIVILEGES ON *.* TO 'root'@'10.0.0.%' WITH GRANT OPTION;
#创建用户和授权同时执行的方式在MySQL8.0取消了
GRANT ALL ON wordpress.* TO wordpress@'192.168.8.%' IDENTIFIED BY 'magedu';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.8.%' IDENTIFIED BY 'magedu'
WITH GRANT OPTION;
</code></pre><p><strong>取消授权</strong></p><ul><li>取消授权：REVOKE</li></ul><pre><code>REVOKE DELETE ON *.* FROM 'testuser'@'172.16.0.%';
</code></pre><p><strong>查看指定用户获得的授权</strong></p><pre><code>Help SHOW GRANTS
SHOW GRANTS FOR 'user'@'host';
SHOW GRANTS FOR CURRENT_USER[()];
</code></pre><p><strong>注意：</strong><br>MariaDB 服务进程启动时会读取 mysql 库中所有授权表至内存<br>(1) GRANT 或 REVOKE 等执行权限操作会保存于系统表中，MariaDB 的服务进程通常会自动重读授权表，<br>使之生效<br>(2) 对于不能够或不能及时重读授权表的命令，可手动让 MariaDB 的服务进程重读授权表：<br>mysql&gt; FLUSH PRIVILEGES;</p><h1 id="myisam-存储引擎"><a class="anchor" href="#myisam-存储引擎">#</a> MyISAM 存储引擎</h1><h2 id="myisam-引擎特点"><a class="anchor" href="#myisam-引擎特点">#</a> MyISAM 引擎特点</h2><ul><li>不支持事务</li><li>表级锁定</li><li>读写相互阻塞，写入不能读，读时不能写</li><li>只缓存索引</li><li>不支持外键约束</li><li>不支持聚簇索引</li><li>读取数据较快，占用资源较少</li><li>不支持 MVCC（多版本并发控制机制）高并发</li><li>崩溃恢复性较差</li><li>MySQL5.5.5 前默认的数据库引擎</li></ul><h2 id="myisam-存储引擎适用场景"><a class="anchor" href="#myisam-存储引擎适用场景">#</a> MyISAM 存储引擎适用场景</h2><ul><li>只读（或者写较少）</li><li>表较小（可以接受长时间进行修复操作）</li></ul><h2 id="myisam-引擎文件"><a class="anchor" href="#myisam-引擎文件">#</a> MyISAM 引擎文件</h2><ul><li>tbl_name.frm 表格式定义</li><li>tbl_name.MYD 数据文件</li><li>tbl_name.MYI 索引文件</li></ul><h1 id="innodb-引擎"><a class="anchor" href="#innodb-引擎">#</a> InnoDB 引擎</h1><h2 id="innodb引擎特点"><a class="anchor" href="#innodb引擎特点">#</a> InnoDB 引擎特点</h2><ul><li>行级锁</li><li>支持事务，适合处理大量短期事务</li><li>读写阻塞与事务隔离级别相关</li><li>可缓存数据和索引</li><li>支持聚簇索引</li><li>崩溃恢复性更好</li><li>支持 MVCC 高并发</li><li>从 MySQL5.5 后支持全文索引</li><li>从 MySQL5.5.5 开始为默认的数据库引擎</li></ul><h1 id="管理存储引擎"><a class="anchor" href="#管理存储引擎">#</a> 管理存储引擎</h1><p>查看 mysql 支持的存储引擎</p><pre><code>show engines;
</code></pre><p>查看当前默认的存储引擎</p><pre><code>show variables like '%storage_engine%';
</code></pre><p>设置默认的存储引擎</p><pre><code>vim /etc/my.cnf
[mysqld]
default_storage_engine= InnoDB
</code></pre><p>查看库中所有表使用的存储引擎</p><pre><code>show table status from db_name;
</code></pre><p>查看库中指定表的存储引擎</p><pre><code>show table status like 'tb_name';
show create table tb_name;
</code></pre><p>设置表的存储引擎：</p><pre><code>CREATE TABLE tb_name(... ) ENGINE=InnoDB;
ALTER TABLE tb_name ENGINE=InnoDB;
</code></pre><h1 id="实战案例数据库冷备份和热备份"><a class="anchor" href="#实战案例数据库冷备份和热备份">#</a> 实战案例：数据库冷备份和热备份</h1><p>MySQL8.0</p><p>冷备份：</p><pre><code>备份过程
# 停止数据库
systemctl stop mysql
# rsync可以保留文件属性
[root@centos8 ~]#rsync -a /var/lib/mysql 10.0.0.28:/data/
#如果配置及二进制文件相关有特殊设置也需要备份
#还原
[root@centos8 ~]#yum -y install mysql-server
[root@centos8 ~]#cp -a /data/mysql/* /var/lib/mysql/
[root@centos8 ~]#systemctl start mysqld
</code></pre><h1 id="mysqldump备份工具"><a class="anchor" href="#mysqldump备份工具">#</a> mysqldump 备份工具</h1><p>mysqldump 说明<br>逻辑备份工具：<br>mysqldump, mydumper, phpMyAdmin<br>Schema 和数据存储在一起、巨大的 SQL 语句、单个巨大的备份文件<br>mysqldump 是 MySQL 的客户端命令，通过 mysql 协议连接至 mysql 服务器进行备份<br>命令格式:</p><pre><code>mysqldump [OPTIONS] database [tables] #支持指定数据库和指定多表的备份，但数据库本身定义
不备份
mysqldump [OPTIONS] -B DB1 [DB2 DB3...] #支持指定数据库备份，包含数据库本身定义也会备份
mysqldump [OPTIONS] -A [OPTIONS] #备份所有数据库，包含数据库本身定义也会备份
</code></pre><p>mysqldump 参考：</p><pre><code>https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html
</code></pre><p>mysqldump 常见通用选项：</p><pre><code>-u, --user=name User for login if not current user
-p, --password[=name] Password to use when connecting to server
-A, --all-databases #备份所有数据库，含create database
-B, --databases db_name… #指定备份的数据库，包括create database语句
-E, --events：#备份相关的所有event scheduler
-R, --routines：#备份所有存储过程和自定义函数
--triggers：#备份表相关触发器，默认启用,用--skip-triggers，不备份触发器
--default-character-set=utf8 #指定字符集
--master-data[=#]：#注意：MySQL8.0.26版以后，此选项变为--source-data
#此选项须启用二进制日志
#1：所备份的数据之前加一条记录为CHANGE MASTER TO语句，非注释，不指定#，默认为1，适合于主从复
制多机使用
#2：记录为被注释的#CHANGE MASTER TO语句，适合于单机使用,适用于备份还原
#此选项会自动关闭--lock-tables功能，自动打开-x | --lock-all-tables功能（除非开启--
single-transaction）
-F, --flush-logs #备份前滚动日志，锁定表完成后，执行flush logs命令,生成新的二进制日志文件，
配合-A 或 -B 选项时，会导致刷新多次数据库。建议在同一时刻执行转储和日志刷新，可通过和--single-
transaction或-x，--master-data 一起使用实现，此时只刷新一次二进制日志
--compact #去掉注释，适合调试，节约备份占用的空间,生产不使用
-d, --no-data #只备份表结构,不备份数据,即只备份create table
-t, --no-create-info #只备份数据,不备份表结构,即不备份create table
-n,--no-create-db #不备份create database，可被-A或-B覆盖
--flush-privileges #备份mysql或相关时需要使用
-f, --force #忽略SQL错误，继续执行
--hex-blob #使用十六进制符号转储二进制列，当有包括BINARY,VARBINARY,BLOB，
BIT的数据类型的列时使用，避免乱码
-q, --quick #不缓存查询，直接输出，加快备份速度
</code></pre><p>mysqldump 的 MyISAM 存储引擎相关的备份选项：<br>MyISAM 不支持事务，只能支持温备；不支持热备，所以必须先锁定要备份的库，而后启动备份操作</p><pre><code>-x,--lock-all-tables #加全局读锁，锁定所有库的所有表，同时加--single-transaction或--
lock-tables选项会关闭此选项功能，注意：数据量大时，可能会导致长时间无法并发访问数据库
-l,--lock-tables #对于需要备份的每个数据库，在启动备份之前分别锁定其所有表，默认为on,--
skip-lock-tables选项可禁用,对备份MyISAM的多个库,可能会造成数据不一致
#注：以上选项对InnoDB表一样生效，实现温备，但不推荐使用
</code></pre><p>mysqldump 的 InnoDB 存储引擎相关的备份选项：<br>InnoDB 存储引擎支持事务，可以利用事务的相应的隔离级别，实现热备，也可以实现温备但不建议用</p><pre><code>--single-transaction
#此选项Innodb中推荐使用，不适用MyISAM，此选项会开始备份前，先执行START TRANSACTION指令开启
事务
#此选项通过在单个事务中转储所有表来创建一致的快照。 仅适用于存储在支持多版本控制的存储引擎中的表
（目前只有InnoDB可以）; 转储不保证与其他存储引擎保持一致。 在进行单事务转储时，要确保有效的转储
文件（正确的表内容和二进制日志位置），没有其他连接应该使用以下语句：ALTER TABLE，DROP TABLE，
RENAME TABLE，TRUNCATE TABLE,此选项和--lock-tables（此选项隐含提交挂起的事务）选项是相互
排斥,备份大型表时，建议将--single-transaction选项和--quick结合一起使用
</code></pre><h1 id="生产环境实战备份策略"><a class="anchor" href="#生产环境实战备份策略">#</a> 生产环境实战备份策略</h1><p>InnoDB 建议备份策略</p><pre><code>mysqldump -uroot -p -A -F -E -R --triggers --single-transaction --master-data=1
--flush-privileges --default-character-set=utf8 --hex-blob
&gt;$&#123;BACKUP&#125;/fullbak_$&#123;BACKUP_TIME&#125;.sql
</code></pre><p>MyISAM 建议备份策略</p><pre><code>mysqldump -uroot -p -A -F -E -R -x --master-data=1 --flush-privileges --
triggers --default-character-set=utf8 --hex-blob
&gt;$&#123;BACKUP&#125;/fullbak_$&#123;BACKUP_TIME&#125;.sql
</code></pre><h1 id="mysqldump-备份还原实战案例"><a class="anchor" href="#mysqldump-备份还原实战案例">#</a> mysqldump 备份还原实战案例</h1><h2 id="实战案例特定数据库的备份脚本"><a class="anchor" href="#实战案例特定数据库的备份脚本">#</a> 实战案例：特定数据库的备份脚本</h2><p>系统：centos8.5</p><p>mysql:8.0</p><pre><code>#!/bin/bash
TIME=`date +%F_%H-%M-%S`
# 备份目录
DIR=/mysql_backup
# 备份数据库
DB=hellodb
# 数据库密码
PASSWD=123456

# 判断备份数据库目录是否存在

[ -d $DIR ] || mkdir $DIR

# 备份
mysqldump -uroot -p&quot;$PASSWD&quot; -F -E -R --triggers --single-transaction --master-data=2 --default-character-set=utf8mb4 -q -B $DB | gzip &gt; $&#123;DIR&#125;/$&#123;DB&#125;_$&#123;TIME&#125;.sql.gz
</code></pre><h1 id="实战案例分库备份的实战脚本"><a class="anchor" href="#实战案例分库备份的实战脚本">#</a> 实战案例：分库备份的实战脚本</h1><ul><li>系统：centos8.5</li><li>MySQL 版本：8.0</li></ul><pre><code>#!/bin/bash
TIME=`date +%F_%H-%M-%S`
DIR=/backup
PASS=123456
[ -d &quot;$DIR&quot; ] || mkdir $DIR
for DB in `mysql -uroot -p&quot;$PASS&quot; -e 'show databases' | grep -Ev &quot;^Database|.*schema$&quot;`;do
    mysqldump -uroot -p&quot;$PASS&quot; -F --single-transaction --master-data=2 --default-character-set=utf8mb4 -q -B $DB | gzip &gt; $&#123;DIR&#125;/$&#123;DB&#125;_$&#123;TIME&#125;.sql.gz
done
</code></pre><h1 id="实战案例完全备份和还原"><a class="anchor" href="#实战案例完全备份和还原">#</a> 实战案例：完全备份和还原</h1><pre><code>#开启二进制日志
[root@centos8 ~]#vim /etc/my.cnf.d/mariadb-server.cnf
[mysqld]
log-bin
#备份
[root@centos8 ~]#mysqldump -uroot -pmagedu -A -F --single-transaction --master-
data=2 |gzip &gt; /backup/all-`date +%F`.sql.gz
#还原
[root@centos8 backup]#dnf install mariadb-server
[root@centos8 backup]#gzip -d all-2019-11-27.sql.gz
[root@centos8 ~]#mysql
MariaDB [(none)]&gt; set sql_log_bin=off;
MariaDB [(none)]&gt; source /backup/all-2019-11-27.sql
MariaDB [(none)]&gt; set sql_log_bin=on;
</code></pre><h1 id="实战案例恢复误删除的表"><a class="anchor" href="#实战案例恢复误删除的表">#</a> 实战案例：恢复误删除的表</h1><p>案例说明：每天 2：30 做完全备份，早上 10：00 误删除了表 students，10：10 才发现故障，现需要将数<br>据库还原到 10：10 的状态，且恢复被删除的 students 表</p><pre><code>#查看数据库是否开启二进制
mysql&gt; select @@log_bin;
+-----------+
| @@log_bin |
+-----------+
|         1 |
+-----------+
1 row in set (0.01 sec)

mysql&gt; select @@sql_log_bin;
+---------------+
| @@sql_log_bin |
+---------------+
|             1 |
+---------------+
1 row in set (0.01 sec)

mysql&gt; 

# log_bin、sql_log_bin的值为1说明已经开启二进制日志

# 查看当前二进制文件在什么位置
mysql&gt; show master logs;
+------------------+-----------+-----------+
| Log_name         | File_size | Encrypted |
+------------------+-----------+-----------+
| mysql-bin.000001 |       204 | No        |
| mysql-bin.000002 |       157 | No        |
+------------------+-----------+-----------+
2 rows in set (0.01 sec)

mysql&gt; 
# 备份的时候开启刷新二进制日志，会生成新的二进制的日志

#完全备份
[root@centos7 ~]# mysqldump -uroot -p123456 -A -F --single-transaction --master-data=2 | gzip &gt; /backup/all_`date +%F`.sql.gz

# 完全备份后进行数据更新
mysql&gt; insert students (name,age,gender) values('jack',22,'M');
Query OK, 1 row affected (0.01 sec)

mysql&gt; insert students (name,age,gender) values('rose',20,'f');
Query OK, 1 row affected (0.01 sec)

# 误删除学生表
mysql&gt; drop table students;
Query OK, 0 rows affected (0.07 sec)

mysql&gt; 

# 后续其他表继续更新
mysql&gt; insert teachers (name,age,gender)values('wang',30,'M');
Query OK, 1 row affected (0.01 sec)

mysql&gt; 

mysql&gt; insert teachers (name,age,gender)values('mage',28,'M');
Query OK, 1 row affected (0.05 sec)

mysql&gt; 

# 停止数据库访问

# 备份从完全备份后的二进制日志
[root@centos7 ~]# mysqlbinlog --start-position=157 /data/mysql/mysql-bin.000003 &gt; /backup/inc.sql

# 找到误删除的语句，从备份中删除此语句
#DROP TABLE `students` /* generated by server */
#利用完全备份和修改过的二进制日志进行还原
[root@centos8 ~]#mysql -uroot -p
mysql&gt; set sql_log_bin=0;
mysql&gt; source /backup/allbackup_2019-11-27_10:20:08.sql;
mysql&gt; source /backup/inc.sql
mysql&gt; set sql_log_bin=1;
</code></pre><div class="tags"><a href="/tags/MySQL%E5%9F%BA%E7%A1%80/" rel="tag"><i class="ic i-tag"></i> MySQL基础</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-05-06 22:30:23" itemprop="dateModified" datetime="2023-05-06T22:30:23+08:00">2023-05-06</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan kun <i class="ic i-at"><em>@</em></i>Hide your thoughts</li><li class="link"><strong>本文链接：</strong> <a href="http://blog.itshare.work/MySQL/MySQL/" title="MySQL数据库基础和安装使用">http://blog.itshare.work/MySQL/MySQL/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Linux/DNS/" itemprop="url" rel="prev" data-background-image="http:&#x2F;&#x2F;oss.itshare.work&#x2F;itshare-work-images&#x2F;28.jpg" title="DNS服务"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Linux</span><h3>DNS服务</h3></a></div><div class="item right"><a href="/MySQL/MySQL%E9%9B%86%E7%BE%A4/" itemprop="url" rel="next" data-background-image="http:&#x2F;&#x2F;oss.itshare.work&#x2F;itshare-work-images&#x2F;29.jpg" title="MySQL集群"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> MySQL</span><h3>MySQL集群</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">MySQL 的特性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">MySQL 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.</span> <span class="toc-text">安装方式介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rpm%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.1.</span> <span class="toc-text">rpm 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.2.</span> <span class="toc-text">二进制安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.3.</span> <span class="toc-text">源码编译安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E5%A4%9A%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">MySQL 多实例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%AF%AD%E8%A8%80"><span class="toc-number">4.</span> <span class="toc-text">SQL 语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E8%AF%AD%E8%A8%80%E7%9A%84%E5%85%B4%E8%B5%B7%E4%B8%8E%E8%AF%AD%E6%B3%95%E6%A0%87%E5%87%86"><span class="toc-number">4.1.</span> <span class="toc-text">SQL 语言的兴起与语法标准</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB"><span class="toc-number">4.1.1.</span> <span class="toc-text">SQL 语句分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">4.1.2.</span> <span class="toc-text">字符集和排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">权限管理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#myisam-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">6.</span> <span class="toc-text">MyISAM 存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#myisam-%E5%BC%95%E6%93%8E%E7%89%B9%E7%82%B9"><span class="toc-number">6.1.</span> <span class="toc-text">MyISAM 引擎特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#myisam-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">6.2.</span> <span class="toc-text">MyISAM 存储引擎适用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#myisam-%E5%BC%95%E6%93%8E%E6%96%87%E4%BB%B6"><span class="toc-number">6.3.</span> <span class="toc-text">MyISAM 引擎文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#innodb-%E5%BC%95%E6%93%8E"><span class="toc-number">7.</span> <span class="toc-text">InnoDB 引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#innodb%E5%BC%95%E6%93%8E%E7%89%B9%E7%82%B9"><span class="toc-number">7.1.</span> <span class="toc-text">InnoDB 引擎特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">8.</span> <span class="toc-text">管理存储引擎</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%B7%E5%A4%87%E4%BB%BD%E5%92%8C%E7%83%AD%E5%A4%87%E4%BB%BD"><span class="toc-number">9.</span> <span class="toc-text">实战案例：数据库冷备份和热备份</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysqldump%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7"><span class="toc-number">10.</span> <span class="toc-text">mysqldump 备份工具</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%AE%9E%E6%88%98%E5%A4%87%E4%BB%BD%E7%AD%96%E7%95%A5"><span class="toc-number">11.</span> <span class="toc-text">生产环境实战备份策略</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysqldump-%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="toc-number">12.</span> <span class="toc-text">mysqldump 备份还原实战案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%89%B9%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC"><span class="toc-number">12.1.</span> <span class="toc-text">实战案例：特定数据库的备份脚本</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E5%88%86%E5%BA%93%E5%A4%87%E4%BB%BD%E7%9A%84%E5%AE%9E%E6%88%98%E8%84%9A%E6%9C%AC"><span class="toc-number">13.</span> <span class="toc-text">实战案例：分库备份的实战脚本</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E5%AE%8C%E5%85%A8%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%98%E5%8E%9F"><span class="toc-number">14.</span> <span class="toc-text">实战案例：完全备份和还原</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E6%81%A2%E5%A4%8D%E8%AF%AF%E5%88%A0%E9%99%A4%E7%9A%84%E8%A1%A8"><span class="toc-number">15.</span> <span class="toc-text">实战案例：恢复误删除的表</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/MySQL/MySQL/" rel="bookmark" title="MySQL数据库基础和安装使用">MySQL数据库基础和安装使用</a></li><li><a href="/MySQL/MySQL%E9%9B%86%E7%BE%A4/" rel="bookmark" title="MySQL集群">MySQL集群</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan kun" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan kun</p><div class="description" itemprop="description">解决各种服务器、网络、应用等技术问题，致力于保障系统稳定、高效运行</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">16</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">3</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==" title="https:&#x2F;&#x2F;github.com&#x2F;amehime&#x2F;hexo-theme-shoka"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Linux/DNS/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/MySQL/MySQL%E9%9B%86%E7%BE%A4/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a> <i class="ic i-angle-right"></i> <a href="/categories/Linux/tomcat/" title="分类于 tomcat">tomcat</a></div><span><a href="/Linux/tomcat/tomcat/" title="tomcat">tomcat</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Ansible/" title="分类于 Ansible">Ansible</a></div><span><a href="/Ansible/Ansible2/" title="运维自动化工具Ansible(二)">运维自动化工具Ansible(二)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Kubernetes/" title="分类于 Kubernetes">Kubernetes</a></div><span><a href="/Kubernetes/k8s%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/" title="Kubernetes详细教程">Kubernetes详细教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/Linux/centos%E7%B3%BB%E7%BB%9Fyum%E9%85%8D%E7%BD%AE/" title="Centos系统yum源配置">Centos系统yum源配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Docker/" title="分类于 Docker">Docker</a></div><span><a href="/Docker/Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/" title="Docker镜像加速">Docker镜像加速</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Ansible/" title="分类于 Ansible">Ansible</a></div><span><a href="/Ansible/Ansible/" title="运维自动化工具Ansible(一)">运维自动化工具Ansible(一)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Kubernetes/" title="分类于 Kubernetes">Kubernetes</a></div><span><a href="/Kubernetes/Kubernetes%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="Kubernetes常用命令">Kubernetes常用命令</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Kubernetes/" title="分类于 Kubernetes">Kubernetes</a></div><span><a href="/Kubernetes/Kubernetes%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="Kubernetes读书笔记">Kubernetes读书笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/MySQL/" title="分类于 MySQL">MySQL</a></div><span><a href="/MySQL/MySQL/" title="MySQL数据库基础和安装使用">MySQL数据库基础和安装使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/MySQL/" title="分类于 MySQL">MySQL</a></div><span><a href="/MySQL/MySQL%E9%9B%86%E7%BE%A4/" title="MySQL集群">MySQL集群</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan kun @ Cookie</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">281k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">4:16</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"MySQL/MySQL/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->