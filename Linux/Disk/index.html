<!-- build time:Tue May 16 2023 21:08:35 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Hide your thoughts" href="http://blog.itshare.work/rss.xml"><link rel="alternate" type="application/atom+xml" title="Hide your thoughts" href="http://blog.itshare.work/atom.xml"><link rel="alternate" type="application/json" title="Hide your thoughts" href="http://blog.itshare.work/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Linux从入门到放弃"><link rel="canonical" href="http://blog.itshare.work/Linux/Disk/"><title>磁盘存储和文件系统管理 - Linux | Cookie = Hide your thoughts</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">磁盘存储和文件系统管理</h1><div class="meta"><span class="item" title="创建时间：2022-08-07 08:40:59"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-08-07T08:40:59+08:00">2022-08-07</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>11k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>10 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Cookie</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/10.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/2.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/16.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/3.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/18.jpg"></li><li class="item" data-background-image="http://oss.itshare.work/itshare-work-images/23.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Linux/" itemprop="item" rel="index" title="分类于 Linux"><span itemprop="name">Linux</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://blog.itshare.work/Linux/Disk/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan kun"><meta itemprop="description" content=", 解决各种服务器、网络、应用等技术问题，致力于保障系统稳定、高效运行"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hide your thoughts"></span><div class="body md" itemprop="articleBody"><h1 id="磁盘管理与文件系统"><a class="anchor" href="#磁盘管理与文件系统">#</a> 磁盘管理与文件系统</h1><p><strong>前言</strong><br>磁盘是计算机主要的存储介质，可以存储大量的二进制数据，并且断电后也能保持数据不丢失，使用磁盘存储数据的时候我们可以将磁盘划分成我们所需要的格式来进行使用</p><h1 id="1-磁盘结构"><a class="anchor" href="#1-磁盘结构">#</a> 1. 磁盘结构</h1><p><strong>1、硬盘的物理结构</strong><br>盘片：硬盘有多个盘片，每个盘片有 2 面<br>磁头：每面有一个磁头</p><p><strong>2. 硬盘数据结构</strong><br>扇区：磁盘上的每个磁道被等分为若干个弧段，这些弧段便是硬盘的扇区。硬盘的第一个扇区，叫做引导扇区 ，盘片被分为多个扇形区域，每个扇区存放 512 字节的数据，是硬盘最小的存储单元<br>磁道：当磁盘旋转时，磁头若保持在一个位置上，则每个磁头都会在磁盘表面划出一个圆形轨迹，这些圆形轨迹就叫做磁道<br>柱面：在有多个盘片构成的盘组中，由不同盘片的面，但处于同一半径圆的多个磁道组成的一个圆柱面</p><p><strong>3、磁盘结构</strong><br>硬盘存储容量 = 磁头数 x 磁道（柱面）数 x 每道扇区数 x 每扇区字节数（512 字节）<br>可以用柱面 / 磁头 / 扇区来唯一定位磁盘上的每一个区域<br>磁盘的接口类型：IDE、SATA、SCSI、SAS、光纤通道<br>用 fdisk -l 查看分区信息</p><h1 id="2-管理存储"><a class="anchor" href="#2-管理存储">#</a> 2. 管理存储</h1><h2 id="21-磁盘分区"><a class="anchor" href="#21-磁盘分区">#</a> 2.1 磁盘分区</h2><h3 id="211-为什么分区"><a class="anchor" href="#211-为什么分区">#</a> 2.1.1 为什么分区</h3><ul><li>优化 I/O 性能</li><li>实现磁盘空间配额限制</li><li>提高修复速度</li><li>隔离系统和程序</li><li>安装多个 OS</li><li>采用不同文件系统</li></ul><h3 id="212-分区方式"><a class="anchor" href="#212-分区方式">#</a> 2.1.2 分区方式</h3><p>两种分区方式：MBR，GPT</p><p><strong>MBR 分区</strong></p><p>MBR：Master Boot Record，1982 年，使用 32 位表示扇区数，分区不超过 2T<br>划分分区的单位：<br>CentOS 5 之前按整柱面划分<br>CentOS 6 版本后可以按 Sector 划分<br>0 磁道 0 扇区：512bytes<br>446bytes: boot loader 启动相关<br>64bytes：分区表，其中每 16bytes 标识一个分区<br>2bytes: 55AA，标识位<br>MBR 分区中一块硬盘最多有 4 个主分区，也可以 3 主分区 + 1 扩展 (N 个逻辑分区)<br>MBR 分区：主和扩展分区对应的 1--4，/dev/sda3，逻辑分区从 5 开始，/dev/sda5</p><p>问题：利用分区策略相同的另一台主机的分区表来还原和恢复当前主机破环的分区表？</p><p><strong>GPT 分区</strong><br>GPT：GUID（Globals Unique Identifiers） partition table 支持 128 个分区，使用 64 位，支持 8Z（<br>512Byte/block ）64Z （ 4096Byte/block）<br>使用 128 位 UUID (Universally Unique Identifier) 表示磁盘和分区 GPT 分区表自动备份在头和尾两份，<br>并有 CRC 校验位<br>UEFI (Unified Extensible Firmware Interface 统一可扩展固件接口) 硬件支持 GPT，使得操作系统可以<br>启动</p><p><strong>GPT 分区结构分为 4 个区域：</strong></p><ul><li>GPT 头</li><li>分区表</li><li>GPT 分区</li><li>备份区域</li></ul><h2 id="22-管理分区"><a class="anchor" href="#22-管理分区">#</a> 2.2 管理分区</h2><p><strong>列出块设备</strong></p><pre><code>lsblk
</code></pre><p><strong>创建分区命令</strong></p><pre><code>fdisk 管理MBR分区
gdisk 管理GPT分区
parted 高级分区操作，可以是交互或非交互方式
</code></pre><p><strong>重新设置内存中的内核分区表版本，适合于除了 CentOS 6 以外的其它版本 5，7，8</strong></p><pre><code>partprobe
</code></pre><h3 id="221-添加并检测新硬盘"><a class="anchor" href="#221-添加并检测新硬盘">#</a> 2.2.1 添加并检测新硬盘</h3><p>1、添加新硬盘使用 lsblk 命令显示出块设备</p><pre><code>root@ubuntu200404:~# lsblk
NAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
loop0                       7:0    0 61.9M  1 loop /snap/core20/1328
loop1                       7:1    0 67.2M  1 loop /snap/lxd/21835
loop2                       7:2    0   62M  1 loop /snap/core20/1587
loop3                       7:3    0 43.6M  1 loop /snap/snapd/14978
loop4                       7:4    0   47M  1 loop /snap/snapd/16292
loop5                       7:5    0 67.8M  1 loop /snap/lxd/22753
sda                         8:0    0   20G  0 disk 
├─sda1                      8:1    0    1M  0 part 
├─sda2                      8:2    0  1.5G  0 part /boot
└─sda3                      8:3    0 18.5G  0 part 
  └─ubuntu--vg-ubuntu--lv 253:0    0   10G  0 lvm  /
sr0                        11:0    1  1.2G  0 rom 
</code></pre><p>发现并没有检测出来新添加的硬盘</p><p>2、检测新硬盘</p><p>方法 1：可以重启电脑</p><p>方法 2： 重新扫描存储设备的 scsi 总线</p><pre><code># host后面的数字不是固定的，以实际为准
root@ubuntu200404:~# echo '- - -' &gt; /sys/class/scsi_host/host32/scan
</code></pre><p>再次使用 lsblk 命令查看发现已经多了 sda 的硬盘，说明成功了</p><pre><code>root@ubuntu200404:~# lsblk
NAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
loop0                       7:0    0 61.9M  1 loop /snap/core20/1328
loop1                       7:1    0 67.2M  1 loop /snap/lxd/21835
loop2                       7:2    0   62M  1 loop /snap/core20/1587
loop3                       7:3    0 43.6M  1 loop /snap/snapd/14978
loop4                       7:4    0   47M  1 loop /snap/snapd/16292
loop5                       7:5    0 67.8M  1 loop /snap/lxd/22753
sda                         8:0    0   20G  0 disk 
├─sda1                      8:1    0    1M  0 part 
├─sda2                      8:2    0  1.5G  0 part /boot
└─sda3                      8:3    0 18.5G  0 part 
  └─ubuntu--vg-ubuntu--lv 253:0    0   10G  0 lvm  /
sdb                         8:16   0   20G  0 disk				# 新添加的硬盘 
sr0                        11:0    1  1.2G  0 rom
</code></pre><h3 id="222-partend命令"><a class="anchor" href="#222-partend命令">#</a> 2.2.2 partend 命令</h3><p><strong>注意：parted 的操作都是实时生效的，小心使用</strong></p><p>格式:</p><pre><code>parted [选项]... [设备 [命令 [参数]...]...]
</code></pre><p>范例：</p><figure class="highlight txt"><figcaption data-lang="txt"></figcaption><table><tr><td data-num="1"></td><td><pre>parted /dev/sdb mklabel gpt|msdos</pre></td></tr><tr><td data-num="2"></td><td><pre>parted /dev/sdb print</pre></td></tr><tr><td data-num="3"></td><td><pre>parted /dev/sdb mkpart primary 1 200 （默认M）</pre></td></tr><tr><td data-num="4"></td><td><pre>parted /dev/sdb rm 1</pre></td></tr><tr><td data-num="5"></td><td><pre>parted -l 列出所有硬盘分区信息</pre></td></tr></table></figure><h3 id="223-分区工具fdisk和gdisk"><a class="anchor" href="#223-分区工具fdisk和gdisk">#</a> 2.2.3 分区工具 fdisk 和 gdisk</h3><pre><code>fdisk -l [-u] [device...] 查看分区
fdisk [device...] 管理MBR分区
gdisk [device...] 类fdisk 的GPT分区工具

# 范例：
fdisk /dev/sdb
</code></pre><p><strong>子命令：</strong></p><pre><code>p 分区列表
t 更改分区类型
n 创建新分区
d 删除分区
v 校验分区
u 转换单位
w 保存并退出
q 不保存并退出
</code></pre><p><strong>查看内核是否已经识别新的分区</strong></p><pre><code>cat /proc/partitions
</code></pre><p><strong>CentOS 7,8 同步分区表:</strong></p><pre><code>partprobe
</code></pre><h2 id="23-文件系统"><a class="anchor" href="#23-文件系统">#</a> 2.3 文件系统</h2><h3 id="231-文件系统概念"><a class="anchor" href="#231-文件系统概念">#</a> 2.3.1 文件系统概念</h3><p>文件系统是操作系统用于明确存储设备或分区上的文件的方法和数据结构；即在存储设备上组织文件的<br>方法。操作系统中负责管理和存储文件信息的软件结构称为文件管理系统，简称文件系统<br>从系统角度来看，文件系统是对文件存储设备的空间进行组织和分配，负责文件存储并对存入的文件进<br>行保护和检索的系统。具体地说，它负责为用户建立文件，存入、读出、修改、转储文件，控制文件的<br>存取，安全控制，日志，压缩，加密等<br>支持的文件系统：</p><pre><code>/lib/modules/`uname -r`/kernel/fs
</code></pre><p>(各种文件系统)[<span class="exturl" data-url="aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tcGFyaXNvbl9vZl9maWxlX3N5c3RlbXM=">https://en.wikipedia.org/wiki/Comparison_of_file_systems</span>]</p><p>** 帮助：**man 5 fs</p><h3 id="232-文件系统类型"><a class="anchor" href="#232-文件系统类型">#</a> 2.3.2 文件系统类型</h3><p><strong>Linux 常用文件系统</strong></p><ul><li>ext2：Extended file system 适用于那些分区容量不是太大，更新也不频繁的情况，例如 /boot 分<br>区</li><li>ext3：是 ext2 的改进版本，其支持日志功能，能够帮助系统从非正常关机导致的异常中恢复</li><li>ext4：是 ext 文件系统的最新版。提供了很多新的特性，包括纳秒级时间戳、创建和使用巨型文件<br>(16TB)、最大 1EB 的文件系统，以及速度的提升</li><li>xfs：SGI，支持最大 8EB 的文件系统</li><li>swap</li><li>iso9660 光盘</li><li>btrfs（Oracle）</li><li>reiserfs</li></ul><p><strong>Windows 常用文件系统</strong></p><ul><li>FAT32</li><li>NTFS</li><li>exFAT</li><li>Unix：</li><li>FFS（fast）</li><li>UFS（unix）</li><li>JFS2</li></ul><p><strong>网络文件系统：</strong></p><ul><li>NFS</li><li>CIFS</li></ul><p><strong>集群文件系统：</strong></p><ul><li>GFS2</li><li>OCFS2（oracle）</li></ul><p><strong>分布式文件系统：</strong></p><ul><li>fastdfs</li><li>ceph</li><li>moosefs</li><li>mogilefs</li><li>glusterfs</li><li>Lustre</li></ul><p><strong>RAW：</strong></p><p>裸文件系统，未经处理或者未经格式化产生的文件系统<br>常用的文件系统特性：</p><p><strong>FAT32</strong></p><ul><li>最多只能支持 16TB 的文件系统和 4GB 的文件</li></ul><p><strong>NTFS</strong></p><ul><li>最多只能支持 16EB 的文件系统和 16EB 的文件</li></ul><p><strong>EXT3</strong></p><ul><li>最多只能支持 32TB 的文件系统和 2TB 的文件，实际只能容纳 2TB 的文件系统和 16GB 的文件</li><li>Ext3 目前只支持 32000 个子目录</li><li>Ext3 文件系统使用 32 位空间记录块数量和 inode 数量</li><li>当数据写入到 Ext3 文件系统中时，Ext3 的数据块分配器每次只能分配一个 4KB 的块</li></ul><p><strong>EXT4：</strong></p><ul><li>EXT4 是 Linux 系统下的日志文件系统，是 EXT3 文件系统的后继版本</li><li>Ext4 的文件系统容量达到 1EB，而支持单个文件则达到 16TB</li><li>理论上支持无限数量的子目录</li><li>Ext4 文件系统使用 64 位空间记录块数量和 inode 数量</li><li>Ext4 的多块分配器支持一次调用分配多个数据块</li><li>修复速度更快</li></ul><p><strong>XFS</strong></p><ul><li>根据所记录的日志在很短的时间内迅速恢复磁盘文件内容</li><li>用优化算法，日志记录对整体文件操作影响非常小</li><li>是一个全 64-bit 的文件系统，最大可以支持 8EB 的文件系统，而支持单个文件则达到 8EB</li><li>能以接近裸设备 I/O 的性能存储数据</li></ul><p><strong>查前支持的文件系统：</strong></p><pre><code>cat /proc/filesystems
</code></pre><h3 id="233-文件系统的组成部分"><a class="anchor" href="#233-文件系统的组成部分">#</a> 2.3.3 文件系统的组成部分</h3><p>内核中的模块：ext4, xfs, vfat<br>Linux 的虚拟文件系统：VFS<br>用户空间的管理工具：mkfs.ext4, mkfs.xfs,mkfs.vfat</p><h3 id="234-文件系统选择管理"><a class="anchor" href="#234-文件系统选择管理">#</a> 2.3.4 文件系统选择管理</h3><h4 id="2341-创建文件系统"><a class="anchor" href="#2341-创建文件系统">#</a> 2.3.4.1 创建文件系统</h4><p><strong>创建文件管理工具</strong></p><pre><code>mkfs命令：
(1) mkfs.FS_TYPE /dev/DEVICE
ext4
xfs
btrfs
vfat
(2) mkfs -t FS_TYPE /dev/DEVICE
-L 'LABEL' 设定卷标
mke2fs：ext系列文件系统专用管理工具
</code></pre><p><strong>常用选项：</strong></p><pre><code>-t &#123;ext2|ext3|ext4|xfs&#125; 指定文件系统类型
-b &#123;1024|2048|4096&#125; 指定块 block 大小
-L ‘LABEL’ 设置卷标
-j 相当于 -t ext3， mkfs.ext3 = mkfs -t ext3 = mke2fs -j = mke2fs -t ext3
-i # 为数据空间中每多少个字节创建一个inode；不应该小于block大
小
-N # 指定分区中创建多少个inode
-I 一个inode记录占用的磁盘空间大小，128---4096
-m # 默认5%,为管理人员预留空间占总空间的百分比
-O FEATURE[,...] 启用指定特性
-O ^FEATURE 
</code></pre><p><strong>案例：mkfs.ext4 /dev/sdb1</strong></p><pre><code>root@ubuntu200404:~# mkfs.ext4 /dev/sdb1
mke2fs 1.45.5 (07-Jan-2020)
Creating filesystem with 2621440 4k blocks and 655360 inodes
Filesystem UUID: a7ef4142-26e5-43dd-b9d0-24c4d09155a1
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done 

root@ubuntu200404:~# 
</code></pre><h4 id="2342-查看和管理分区信息"><a class="anchor" href="#2342-查看和管理分区信息">#</a> 2.3.4.2 查看和管理分区信息</h4><p>blkid 可以查看块设备属性信息<br>格式：</p><pre><code>blkid [OPTION]... [DEVICE]
</code></pre><p>常用选项：</p><pre><code>-U UUID 根据指定的UUID来查找对应的设备
-L LABEL 根据指定的LABEL来查找对应的设备
e2label：管理ext系列文件系统的LABEL
</code></pre><pre><code>e2label DEVICE [LABEL]
</code></pre><p><strong>范例</strong></p><pre><code>root@ubuntu200404:~# blkid /dev/sdb1
/dev/sdb1: UUID=&quot;a7ef4142-26e5-43dd-b9d0-24c4d09155a1&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;db60ac71-01&quot;
root@ubuntu200404:~# 
</code></pre><p><strong>查找分区</strong></p><pre><code>findfs [options] LABEL=&lt;label&gt;
findfs [options] UUID=&lt;uuid&gt;
</code></pre><p><strong>tune2fs：重新设定 ext 系列文件系统可调整参数的值</strong></p><pre><code>-l 查看指定文件系统超级块信息；super block
-L 'LABEL’ 修改卷标
-m # 修预留给管理员的空间百分比
-j 将ext2升级为ext3
-O 文件系统属性启用或禁用, -O ^has_journal
-o 调整文件系统的默认挂载选项，-o ^acl
-U UUID 修改UUID号
</code></pre><p><strong>dumpe2fs：显示 ext 文件系统信息，将磁盘块分组管理</strong><br>- h：查看超级块信息，不显示分组信息</p><p><strong>范例：查看 ext 文件系统的元数据和块组信息</strong></p><pre><code>root@ubuntu200404:~# dumpe2fs /dev/sdb1
dumpe2fs 1.45.5 (07-Jan-2020)
Filesystem volume name:   &lt;none&gt;
Last mounted on:          &lt;not available&gt;
Filesystem UUID:          a7ef4142-26e5-43dd-b9d0-24c4d09155a1
Filesystem magic number:  0xEF53
Filesystem revision #:    1 (dynamic)
Filesystem features:      has_journal ext_attr resize_inode dir_index filetype extent 64bit flex_bg sparse_super large_file huge_file dir_nlink extra_isize metadata_csum
Filesystem flags:         signed_directory_hash 
Default mount options:    user_xattr acl
Filesystem state:         clean
Errors behavior:          Continue
Filesystem OS type:       Linux
Inode count:              655360
Block count:              2621440
Reserved block count:     131072
Free blocks:              2554687
Free inodes:              655349
First block:              0
......
......
......
</code></pre><p><strong>xfs_info：显示示挂载或已挂载的 xfs 文件系统信息</strong></p><pre><code>xfs_info mountpoint|devname
</code></pre><p><strong>范例</strong></p><pre><code>xfs_info /dev/sda1
</code></pre><h4 id="2343-文件系统检测和修复"><a class="anchor" href="#2343-文件系统检测和修复">#</a> 2.3.4.3 文件系统检测和修复</h4><p>文件系统夹故障常发生于死机或者非正常关机之后，挂载为文件系统标记为 “no clean”<br><strong>注意：一定不要在挂载状态下执行下面命令修复</strong></p><p>fsck: File System Check</p><pre><code>fsck.FS_TYPE
fsck -t FS_TYPE
</code></pre><p><strong>注意：FS_TYPE 一定要与分区上已经文件类型相同</strong></p><p><strong>常用选项</strong></p><pre><code>-a 自动修复
-r 交互式修复错误
</code></pre><p><strong>e2fsck：ext 系列文件专用的检测修复工具</strong></p><pre><code>-y 自动回答为yes
-f 强制修复
-p 自动进行安全的修复文件系统问题
</code></pre><p><strong>用法：</strong></p><pre><code>e2fsck /dev/sdb2
</code></pre><p><strong>xfs_repair：xfs 文件系统专用检测修复工具</strong><br><strong>常用选项：</strong></p><pre><code>-f 修复文件，而设备
-n 只检查
-d 允许修复只读的挂载设备，在单用户下修复 / 时使用，然后立即reboot
</code></pre><p><strong>用法：</strong></p><pre><code>xfs_repair /dev/sda1 
</code></pre><h2 id="24-挂载"><a class="anchor" href="#24-挂载">#</a> 2.4 挂载</h2><p>挂载：将额外文件系统与根文件系统某现存的目录建立起关联关系，进而使得此目录做为其它文件访问入<br>口的行为<br>卸载：为解除此关联关系的过程<br>把设备关联挂载点：mount Point<br>挂载点下原有文件在挂载完成后会被临时隐藏，因此，挂载点目录一般为空<br>进程正在使用中的设备无法被卸载</p><h3 id="241-挂载文件系统-mount"><a class="anchor" href="#241-挂载文件系统-mount">#</a> 2.4.1 挂载文件系统 mount</h3><p><strong>格式</strong></p><pre><code>mount [-fnrsvw] [-t vfstype] [-o options] device mountpoint
</code></pre><p>device：指明要挂载的设备</p><ul><li>设备文件：例如:/dev/sda5</li><li>卷标：-L 'LABEL', 例如 -L 'MYDATA'</li><li>UUID： -U 'UUID'：例如 -U '0c50523c-43f1-45e7-85c0-a126711d406e'</li><li>伪文件系统名称：proc, sysfs, devtmpfs, configfs</li></ul><p>mountpoint：挂载点目录必须事先存在，建议使用空目录<br>mount 常用命令选项</p><pre><code>-t fstype 指定要挂载的设备上的文件系统类型,如:ext4,xfs
-r readonly，只读挂载
-w read and write, 读写挂载,此为默认设置,可省略
-n 不更新/etc/mtab，mount不可见
-a 自动挂载所有支持自动挂载的设备(定义在了/etc/fstab文件中，且挂载选项中有
auto功能)
-L 'LABEL' 以卷标指定挂载设备
-U 'UUID' 以UUID指定要挂载的设备
-B, --bind 绑定目录到另一个目录上
-o options：(挂载文件系统的选项)，多个选项使用逗号分隔
async 异步模式,内存更改时,写入缓存区buffer,过一段时间再写到磁盘中，效率高，但不安全
sync 同步模式,内存更改时，同时写磁盘，安全，但效率低下
atime/noatime 包含目录和文件
diratime/nodiratime 目录的访问时间戳
auto/noauto 是否支持开机自动挂载，是否支持-a选项
exec/noexec 是否支持将文件系统上运行应用程序
dev/nodev 是否支持在此文件系统上使用设备文件
suid/nosuid 是否支持suid和sgid权限
remount 重新挂载
ro/rw 只读、读写
user/nouser 是否允许普通用户挂载此设备，/etc/fstab使用
acl/noacl 启用此文件系统上的acl功能
loop 使用loop设备
_netdev 当网络可用时才对网络资源进行挂载，如：NFS文件系统
defaults 相当于rw, suid, dev, exec, auto, nouser, async
</code></pre><p><strong>挂载规则:</strong></p><ul><li>一个挂载点同一时间只能挂载一个设备</li><li>一个挂载点同一时间挂载了多个设备，只能看到最后一个设备的数据，其它设备上的数据将被隐藏</li><li>一个设备可以同时挂载到多个挂载点</li><li>通常挂载点一般是已存在空的目录</li></ul><p><strong>范例：挂载案例</strong></p><pre><code>root@ubuntu200404:/data# mount /dev/sdb1 /data/mysql_mount/
root@ubuntu200404:/data# df
</code></pre><p><img data-src="../image.assets/1659865748687.png" alt="1659865748687"></p><p>###　2.4.2 卸载文件系统 umount<br>卸载时：可使用设备，也可以使用挂载点</p><pre><code>umount 设备名|挂载点
</code></pre><h3 id="243-查看挂载情况"><a class="anchor" href="#243-查看挂载情况">#</a> 2.4.3 查看挂载情况</h3><p><strong>查看挂载</strong></p><pre><code>#通过查看/etc/mtab文件显示当前已挂载的所有设备
mount
#查看内核追踪到的已挂载的所有设备
cat /proc/mounts
</code></pre><p><strong>查看挂载点情况</strong></p><pre><code>findmnt MOUNT_POINT|device
</code></pre><p><strong>查看正在访问指定文件系统的进程</strong></p><pre><code>lsof MOUNT_POINT
fuser -v MOUNT_POINT
</code></pre><p><strong>终止所有在正访问指定的文件系统的进程</strong></p><pre><code>fuser -km MOUNT_POINT
</code></pre><h3 id="244-持久挂载"><a class="anchor" href="#244-持久挂载">#</a> 2.4.4 持久挂载</h3><p>将挂载保存到 /etc/fstab 中可以下次开机时，自动启用挂载<br>/etc/fstab 格式帮助：</p><pre><code>man 5 fstab
</code></pre><p>每行定义一个要挂载的文件系统，，其中包括共 6 项</p><ul><li>要挂载的设备或伪文件系统设备文件<br>LABEL：LABEL=&quot;&quot;<br>UUID：UUID=&quot;&quot;<br>伪文件系统名称：proc, sysfs</li><li>挂载点：必须是事先存在的目录</li><li>文件系统类型：ext4，xfs，iso9660，nfs，none</li><li>挂载选项：defaults ，acl，bind</li><li>转储频率：0：不做备份 1：每天转储 2：每隔一天转储</li><li>fsck 检查的文件系统的顺序：允许的数字是 0 1 2<br>0：不自检 ，1：首先自检；一般只有 rootfs 才用 2：非 rootfs 使用</li></ul><p><strong>添加新的挂载项，需要执行下面命令生效</strong></p><pre><code>mount -a
</code></pre><p><strong>范例：centos7, 8 /etc/fstab 的分区 UUID 错误，无法启动</strong> *</p><pre><code>自动进入emergency mode,输入root 密码
#cat /proc/mounts 可以查看到/ 以rw方式挂载
#vim /etc/fstab
#reboot
</code></pre><p><strong>范例：centos 6 /etc/fstab 的分区 UUID 错误，无法启动</strong></p><pre><code>如果/etc/fstab 的挂载设备出错，比如文件系统故障，并且文件系统检测项（即第6项为非0），将导致无
法启动
自动进入emergency mode,输入root 密码
#cat /proc/mounts 可以查看到/ 以ro方式挂载，无法直接修改配置文件
#mount -o remount,rw /
#vim /etc/fstab
将故障行的最后1项，即第6项修改为0，开机不检测此项挂载设备的健康性，从而忽略错误，能实现启动
</code></pre><p><strong>范例：/etc/fstab 格式</strong></p><pre><code>root@ubuntu200404:/data# cat /etc/fstab 
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/ubuntu-vg/ubuntu-lv during curtin installation
/dev/disk/by-id/dm-uuid-LVM-3aQ0WgB04ZXwNPYVAYy9ssb3Wd06E34ggUUxCcYQaVwAb0L03K40wpOxbnqqqa3f / ext4 defaults 0 1
# /boot was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/5e8f9763-2db8-48d0-85e2-a26d76521e2f /boot ext4 defaults 0 1
/swap.img	none	swap	sw	0	0
root@ubuntu200404:/data# 
</code></pre><p><strong>范例：添加新的挂载点后修改 /etc/fstab 文件</strong></p><pre><code># /etc/fstab: static file system information.
# 
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/ubuntu-vg/ubuntu-lv during curtin installation
/dev/disk/by-id/dm-uuid-LVM-3aQ0WgB04ZXwNPYVAYy9ssb3Wd06E34ggUUxCcYQaVwAb0L03K40wpOxbnqqqa3f / ext4 defaults 0 1
# /boot was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/5e8f9763-2db8-48d0-85e2-a26d76521e2f /boot ext4 defaults 0 1
/swap.img       none    swap    sw      0       0

# 添加该行后、重启系统
UUID=0e850a4a-028d-48b2-aa18-dd8b16090aa6  /data/mysql_mount  ext4  defaults  0  0
</code></pre><h2 id="25-处理交换文件和分区"><a class="anchor" href="#25-处理交换文件和分区">#</a> 2.5 处理交换文件和分区</h2><h3 id="251-swap分区"><a class="anchor" href="#251-swap分区">#</a> 2.5.1 swap 分区</h3><p>swap 交换分区是系统 RAM 的补充，swap 分区支持虚拟内存。当没有足够的 RAM 保存系统处理的数据<br>时会将数据写入 swap 分区，当系统缺乏 swap 空间时，内核会因 RAM 内存耗尽而终止进程。配置过<br>多 swap 空间会造成存储设备处于分配状态但闲置，造成浪费，过多 swap 空间还会掩盖内存泄露<br>注意：为优化性能，可以将 swap 分布存放，或高性能磁盘存放</p><h3 id="252-交换分区实现过程"><a class="anchor" href="#252-交换分区实现过程">#</a> 2.5.2 交换分区实现过程</h3><ol><li>创建交换分区或者文件</li><li>使用 mkswap 写入特殊签名</li><li>在 /etc/fstab 文件中添加适当的条目</li><li>使用 swapon -a 激活交换空间</li></ol><p><strong>启用 swap 分区</strong></p><pre><code>swapon [OPTION]... [DEVICE]
</code></pre><p><strong>常用选项</strong></p><pre><code>-a #激活所有的交换分区
-p PRIORITY #指定优先级(-1到32767之间)，值越大,优先级越高.也可在/etc/fstab文件中的第4列指
定：pri=value
</code></pre><p><strong>范例：创建 swap 分区</strong></p><pre><code>[root@centos8 ~]#mkswap /dev/sdc1
</code></pre><p><strong>禁用 swap 分区</strong></p><pre><code>swapoff [OPTION]... [DEVICE]
</code></pre><p><strong>范例：禁用 swap 分区</strong></p><pre><code>[root@centos8 ~]#sed -i.bak '/swap/d' /etc/fstab
[root@centos8 ~]#swapoff -a
</code></pre><h3 id="253-swap的使用策略"><a class="anchor" href="#253-swap的使用策略">#</a> 2.5.3 swap 的使用策略</h3><p>/proc/sys/vm/swappiness 的值决定了当内存占用达到一定的百分比时，会启用 swap 分区的空间<br>使用规则</p><pre><code>当内存使用率达到100-swappiness时,会启用交换分区
简单地说这个参数定义了系统对swap的使用倾向，此值越大表示越倾向于使用swap。
可以设为0，这样做并不会禁止对swap的使用，只是最大限度地降低了使用swap的可能性
</code></pre><p><strong>范例</strong></p><pre><code>#说明：CentOS7和8默认值为30，内存在使用到100-30=70%的时候，就开始出现有交换分区的使用。
[root@centos8 ~]# cat /proc/sys/vm/swappiness
</code></pre><h2 id="26-磁盘常见工具"><a class="anchor" href="#26-磁盘常见工具">#</a> 2.6 磁盘常见工具</h2><h3 id="261-df"><a class="anchor" href="#261-df">#</a> 2.6.1 df</h3><p>文件系统空间实际真正占用等信息的查看工具 df</p><pre><code>df [OPTION]... [FILE]...
</code></pre><p><strong>常用选项</strong></p><pre><code>-H 以10为单位
-T 文件系统类型
-h human-readable
-i inodes instead of blocks
-P 以Posix兼容的格式输出
</code></pre><h3 id="263-du"><a class="anchor" href="#263-du">#</a> 2.6.3 du</h3><p>查看某目录总体空间实际占用状态 du</p><p>显示指定目录下面各个子目录的大小，单位为 KB</p><p><strong>常用选项</strong></p><pre><code>-a --all 显示所有文件和目录的大小,默认只显示目录大小
-h human-readable
-s summary
--max-depth=# 指定最大目录层级
-x, --one-file-system #忽略不在同一个文件系统的目录
</code></pre><p><strong>面试题</strong></p><p>1.df 和 du 区别？什么时候 df &gt;du（空分区的时候)<br>df 查看是文件系统的空间使用，包括元数据和数据，删除文件后，如果此文件正在使用，不会立即释放空间；du 查看是文件数据空间使用，不包括元数据，删除文件后空间立即释放。</p><p>2. 什么时候 df &lt; du?<br>目录内挂载有其它分区时的情况</p><p>3. 当删除文件但不释放空间时，有什么不同？<br>du 查看文件空间释放，df 不释放</p><h1 id="3-raid"><a class="anchor" href="#3-raid">#</a> 3. RAID</h1><div class="tags"><a href="/tags/Linux%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/" rel="tag"><i class="ic i-tag"></i> Linux从入门到放弃</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-05-03 00:17:55" itemprop="dateModified" datetime="2023-05-03T00:17:55+08:00">2023-05-03</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan kun <i class="ic i-at"><em>@</em></i>Hide your thoughts</li><li class="link"><strong>本文链接：</strong> <a href="http://blog.itshare.work/Linux/Disk/" title="磁盘存储和文件系统管理">http://blog.itshare.work/Linux/Disk/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"></div><div class="item right"><a href="/Linux/DNS/" itemprop="url" rel="next" data-background-image="http:&#x2F;&#x2F;oss.itshare.work&#x2F;itshare-work-images&#x2F;20.jpg" title="DNS服务"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Linux</span><h3>DNS服务</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E4%B8%8E%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">磁盘管理与文件系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E7%A3%81%E7%9B%98%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">1. 磁盘结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8"><span class="toc-number">3.</span> <span class="toc-text">2. 管理存储</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#21-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 磁盘分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#211-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%88%86%E5%8C%BA"><span class="toc-number">3.1.1.</span> <span class="toc-text">2.1.1 为什么分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#212-%E5%88%86%E5%8C%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.</span> <span class="toc-text">2.1.2 分区方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-%E7%AE%A1%E7%90%86%E5%88%86%E5%8C%BA"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 管理分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#221-%E6%B7%BB%E5%8A%A0%E5%B9%B6%E6%A3%80%E6%B5%8B%E6%96%B0%E7%A1%AC%E7%9B%98"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.2.1 添加并检测新硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#222-partend%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2.2 partend 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#223-%E5%88%86%E5%8C%BA%E5%B7%A5%E5%85%B7fdisk%E5%92%8Cgdisk"><span class="toc-number">3.2.3.</span> <span class="toc-text">2.2.3 分区工具 fdisk 和 gdisk</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.3.</span> <span class="toc-text">2.3 文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#231-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5"><span class="toc-number">3.3.1.</span> <span class="toc-text">2.3.1 文件系统概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#232-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.3.2.</span> <span class="toc-text">2.3.2 文件系统类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#233-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">3.3.3.</span> <span class="toc-text">2.3.3 文件系统的组成部分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#234-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E9%80%89%E6%8B%A9%E7%AE%A1%E7%90%86"><span class="toc-number">3.3.4.</span> <span class="toc-text">2.3.4 文件系统选择管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2341-%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">2.3.4.1 创建文件系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2342-%E6%9F%A5%E7%9C%8B%E5%92%8C%E7%AE%A1%E7%90%86%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">2.3.4.2 查看和管理分区信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2343-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A3%80%E6%B5%8B%E5%92%8C%E4%BF%AE%E5%A4%8D"><span class="toc-number">3.3.4.3.</span> <span class="toc-text">2.3.4.3 文件系统检测和修复</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-%E6%8C%82%E8%BD%BD"><span class="toc-number">3.4.</span> <span class="toc-text">2.4 挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#241-%E6%8C%82%E8%BD%BD%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F-mount"><span class="toc-number">3.4.1.</span> <span class="toc-text">2.4.1 挂载文件系统 mount</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#243-%E6%9F%A5%E7%9C%8B%E6%8C%82%E8%BD%BD%E6%83%85%E5%86%B5"><span class="toc-number">3.4.2.</span> <span class="toc-text">2.4.3 查看挂载情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#244-%E6%8C%81%E4%B9%85%E6%8C%82%E8%BD%BD"><span class="toc-number">3.4.3.</span> <span class="toc-text">2.4.4 持久挂载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-%E5%A4%84%E7%90%86%E4%BA%A4%E6%8D%A2%E6%96%87%E4%BB%B6%E5%92%8C%E5%88%86%E5%8C%BA"><span class="toc-number">3.5.</span> <span class="toc-text">2.5 处理交换文件和分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#251-swap%E5%88%86%E5%8C%BA"><span class="toc-number">3.5.1.</span> <span class="toc-text">2.5.1 swap 分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#252-%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="toc-number">3.5.2.</span> <span class="toc-text">2.5.2 交换分区实现过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#253-swap%E7%9A%84%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5"><span class="toc-number">3.5.3.</span> <span class="toc-text">2.5.3 swap 的使用策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26-%E7%A3%81%E7%9B%98%E5%B8%B8%E8%A7%81%E5%B7%A5%E5%85%B7"><span class="toc-number">3.6.</span> <span class="toc-text">2.6 磁盘常见工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#261-df"><span class="toc-number">3.6.1.</span> <span class="toc-text">2.6.1 df</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#263-du"><span class="toc-number">3.6.2.</span> <span class="toc-text">2.6.3 du</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-raid"><span class="toc-number">4.</span> <span class="toc-text">3. RAID</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/Linux/Disk/" rel="bookmark" title="磁盘存储和文件系统管理">磁盘存储和文件系统管理</a></li><li><a href="/Linux/DNS/" rel="bookmark" title="DNS服务">DNS服务</a></li><li><a href="/Linux/centos%E7%B3%BB%E7%BB%9Fyum%E9%85%8D%E7%BD%AE/" rel="bookmark" title="Centos系统yum源配置">Centos系统yum源配置</a></li><li><a href="/Linux/tomcat/tomcat/" rel="bookmark" title="tomcat">tomcat</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan kun" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan kun</p><div class="description" itemprop="description">解决各种服务器、网络、应用等技术问题，致力于保障系统稳定、高效运行</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">15</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">3</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==" title="https:&#x2F;&#x2F;github.com&#x2F;amehime&#x2F;hexo-theme-shoka"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a> <i class="ic i-angle-right"></i> <a href="/categories/Linux/tomcat/" title="分类于 tomcat">tomcat</a></div><span><a href="/Linux/tomcat/tomcat/" title="tomcat">tomcat</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Kubernetes/" title="分类于 Kubernetes">Kubernetes</a></div><span><a href="/Kubernetes/k8s%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/" title="Kubernetes详细教程">Kubernetes详细教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Docker/" title="分类于 Docker">Docker</a></div><span><a href="/Docker/Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/" title="Docker镜像加速">Docker镜像加速</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/Linux/centos%E7%B3%BB%E7%BB%9Fyum%E9%85%8D%E7%BD%AE/" title="Centos系统yum源配置">Centos系统yum源配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Ansible/" title="分类于 Ansible">Ansible</a></div><span><a href="/Ansible/Ansible/" title="运维自动化工具Ansible(一)">运维自动化工具Ansible(一)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/MySQL/" title="分类于 MySQL">MySQL</a></div><span><a href="/MySQL/MySQL/" title="MySQL数据库基础和安装使用">MySQL数据库基础和安装使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Ansible/" title="分类于 Ansible">Ansible</a></div><span><a href="/Ansible/Ansible2/" title="运维自动化工具Ansible(二)">运维自动化工具Ansible(二)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/Linux/Disk/" title="磁盘存储和文件系统管理">磁盘存储和文件系统管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Kubernetes/" title="分类于 Kubernetes">Kubernetes</a></div><span><a href="/Kubernetes/Kubernetes%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="Kubernetes读书笔记">Kubernetes读书笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/zabbix/" title="分类于 zabbix">zabbix</a></div><span><a href="/zabbix/zabbix5%E9%83%A8%E7%BD%B2%E5%AE%89%E8%A3%85/" title="zabbix5部署安装">zabbix5部署安装</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan kun @ Cookie</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">271k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">4:06</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Linux/Disk/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->